# Story 1.1: Project Setup and Environment Configuration

## Status

Approved

## Story

**As a** developer,
**I want** to set up the project environment with Next.js, TypeScript, Tailwind CSS, and configure Convex backend,
**so that** I have a working foundation to build the Relationship Health Journal application.

## Acceptance Criteria

1. Next.js project initialized with TypeScript and Tailwind CSS
2. Convex backend configured and connected
3. Clerk authentication installed and configured
4. Environment variables properly set up (.env.local)
5. Project structure organized according to architecture specifications
6. Development tools (ESLint, Prettier) configured
7. Git repository initialized with initial commit
8. All core dependencies installed and working

## Tasks / Subtasks

- [ ] **ENV-001**: Initialize Next.js project with TypeScript and Tailwind CSS (AC: 1)
  - [ ] Run `npx create-next-app@latest` with TypeScript and Tailwind options
  - [ ] Verify Next.js 14 with App Router is installed
  - [ ] Test basic Next.js development server startup
- [ ] **ENV-002**: Set up Convex backend and configure deployment (AC: 2)
  - [ ] Install Convex CLI and initialize project
  - [ ] Configure Convex deployment and get deployment URL
  - [ ] Set up basic Convex schema file structure
  - [ ] Test Convex connection and basic queries
- [ ] **ENV-003**: Install and configure Clerk authentication (AC: 3)
  - [ ] Install Clerk Next.js package
  - [ ] Set up Clerk dashboard and get API keys
  - [ ] Configure Clerk middleware and providers
  - [ ] Test basic authentication flow
- [ ] **ENV-004**: Set up environment variables (.env.local) (AC: 4)
  - [ ] Create .env.local file with required variables
  - [ ] Add Convex deployment URL
  - [ ] Add Clerk publishable and secret keys
  - [ ] Add Google Gemini API key placeholder
- [ ] **ENV-005**: Configure project structure and folder organization (AC: 5)
  - [ ] Create src/app directory structure according to architecture
  - [ ] Set up components/ui, components/features, components/layout directories
  - [ ] Create lib/, hooks/, and styles/ directories
  - [ ] Organize according to system-architecture.md specifications
- [ ] **ENV-006**: Set up ESLint, Prettier, and development tools (AC: 6)
  - [ ] Configure ESLint with Next.js and TypeScript rules
  - [ ] Set up Prettier with consistent formatting rules
  - [ ] Install and configure additional development dependencies
  - [ ] Test linting and formatting commands
- [ ] **ENV-007**: Initialize Git repository and create initial commit (AC: 7)
  - [ ] Initialize git repository
  - [ ] Create .gitignore with Next.js, Node.js, and environment files
  - [ ] Add all initial files and create first commit
  - [ ] Verify repository is properly set up

## Dev Notes

### Technology Stack Context

**Source: [docs/architecture/system-architecture.md#core-technology-stack]**

- **Frontend**: Next.js 14 with App Router, TypeScript, Tailwind CSS
- **Backend**: Convex (real-time database and backend-as-a-service)
- **Authentication**: Clerk
- **AI Processing**: Google Gemini Flash with DSPy framework (to be added in Phase 2)
- **Deployment**: Vercel Edge Network

### Project Structure Requirements

**Source: [docs/architecture/system-architecture.md#component-architecture]**

```
src/
├── app/                        # Next.js App Router
│   ├── (auth)/                 # Authentication routes
│   │   ├── sign-in/
│   │   └── sign-up/
│   ├── dashboard/              # Main dashboard
│   ├── journal/                # Journal entry pages
│   ├── relationships/          # Relationship management
│   ├── insights/               # AI insights and trends
│   └── settings/               # User settings
│
├── components/                 # Reusable UI components
│   ├── ui/                     # Base UI components
│   ├── features/               # Feature-specific components
│   │   ├── journal/
│   │   ├── dashboard/
│   │   └── relationships/
│   └── layout/                 # Layout components
│
├── lib/                        # Utility libraries
├── hooks/                      # Custom React hooks
└── styles/                     # Styling
```

### Environment Configuration Requirements

**Source: [docs/architecture/developer-architecture.md#deployment--scalability]**

- Vercel deployment platform integration
- Environment variables for Convex, Clerk, and AI services
- Real-time data synchronization setup
- Serverless architecture configuration

### Data Architecture Context

**Source: [docs/architecture/developer-architecture.md#data-architecture]**

- Convex provides real-time data synchronization
- Core entities: users, relationships, journalEntries, aiAnalysis, healthScores
- Authentication integration with Clerk for user management

### Security Considerations

**Source: [docs/architecture/developer-architecture.md#security-architecture]**

- Secure token-based API authentication
- Environment variable protection (.env.local in .gitignore)
- Input validation and sanitization setup
- HTTPS/TLS configuration for production

### Performance Requirements

**Source: [docs/business/PRD.md#technical-requirements]**

- Page load times under 2 seconds
- Support for 10,000+ concurrent users
- Real-time updates and synchronization

## Testing

**Source: [docs/architecture/developer-architecture.md#development-considerations]**

### Testing Standards

- Component testing for UI elements
- Integration testing for data flows
- End-to-end testing for critical user journeys
- Full TypeScript implementation with strict type checking

### Test File Locations

- Place component tests alongside components in `__tests__` folders
- Integration tests in `tests/integration/`
- E2E tests in `tests/e2e/`

### Testing Frameworks

- Jest for unit testing
- React Testing Library for component testing
- Playwright or Cypress for E2E testing (to be determined)

### Testing Requirements for This Story

- Verify Next.js development server starts successfully
- Test Convex connection and basic functionality
- Validate Clerk authentication setup
- Confirm all environment variables are properly loaded
- Test project build process runs without errors

## Change Log

| Date       | Version | Description                              | Author       |
| ---------- | ------- | ---------------------------------------- | ------------ |
| 2025-07-19 | 1.0     | Initial story creation for project setup | Scrum Master |

## Dev Agent Record

_This section will be populated by the development agent during implementation_

### Agent Model Used

_To be filled by dev agent_

### Debug Log References

_To be filled by dev agent_

### Completion Notes List

_To be filled by dev agent_

### File List

_To be filled by dev agent_

## QA Results

_Results from QA Agent review will be added here after implementation_
